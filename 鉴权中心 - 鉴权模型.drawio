<mxfile host="app.diagrams.net" modified="2021-09-14T12:17:11.352Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.63 Safari/537.36" etag="K1tjglPLhAQHYD6TeQQO" version="15.2.1" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1426" dy="-420" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="JHoGeUMgcDAlhT3e80eg-0" value="auth center" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="649" y="1710" width="116" height="605" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-33" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-0">
          <mxGeometry x="53" y="338" width="10" height="166" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-51" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-0">
          <mxGeometry x="53" y="519" width="10" height="68" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-97" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-0">
          <mxGeometry x="53" y="238" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-1" value="consumer" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#a20025;strokeColor=#6F0000;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="83" y="1710" width="106" height="604" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-17" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-1">
          <mxGeometry x="48.62" y="52" width="10" height="72" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-32" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-1">
          <mxGeometry x="49" y="338" width="10" height="155" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-50" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-1">
          <mxGeometry x="45" y="519" width="16" height="65" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-96" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-1">
          <mxGeometry x="49" y="237" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-100" value="登录管控台&lt;br&gt;领取身份证" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-1">
          <mxGeometry x="-47" y="64" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.138;entryY=0.504;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="702" y="1805.976" as="sourcePoint" />
            <mxPoint x="143" y="1805.976" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-24" value="生成该应用的密钥，用于身份识别认证" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-22">
          <mxGeometry x="0.3739" relative="1" as="geometry">
            <mxPoint x="77" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-18" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="702" y="1762" width="10" height="61" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="141.6199999999999" y="1773" as="sourcePoint" />
            <mxPoint x="702" y="1773" as="targetPoint" />
            <Array as="points">
              <mxPoint x="616" y="1773" />
              <mxPoint x="616" y="1773" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-20" value="owner使用工号登陆管控台注册consumer应用" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-19">
          <mxGeometry x="-0.4318" y="1" relative="1" as="geometry">
            <mxPoint x="97" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-27" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="131.62" y="1857" width="10" height="60" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-31" value="将应用密钥配置在Apollo或者环境变量" style="edgeStyle=orthogonalEdgeStyle;html=1;align=left;spacingLeft=2;endArrow=block;rounded=0;entryX=1.138;entryY=0.767;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" target="JHoGeUMgcDAlhT3e80eg-27" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="141.62" y="1868" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="185" y="1868" />
              <mxPoint x="185" y="1904" />
              <mxPoint x="147" y="1904" />
              <mxPoint x="147" y="1903" />
            </Array>
            <mxPoint x="147" y="1904" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-34" value="传递（应用名+身份证+资源名），请求token" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.1;entryY=0.5;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="142" y="2064" as="sourcePoint" />
            <mxPoint x="703" y="2064" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;endSize=6;strokeColor=#000000;dashed=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-37">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="281" y="2104" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-42" value="识别失败" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-41">
          <mxGeometry x="-0.0093" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-37">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="144" y="2171" as="targetPoint" />
            <Array as="points">
              <mxPoint x="425" y="2171" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-49" value="识别成功，下发token信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-48">
          <mxGeometry x="0.2776" y="-1" relative="1" as="geometry">
            <mxPoint x="28" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-37" value="" style="rhombus;whiteSpace=wrap;html=1;fillColor=#FFFFFF;strokeColor=#000000;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="406" y="2083" width="38" height="39" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-40" value="&lt;span style=&quot;font-size: 12px ; background-color: rgb(248 , 249 , 250)&quot;&gt;对consumer进行身份识别&lt;/span&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;strokeColor=#000000;endSize=6;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-33" target="JHoGeUMgcDAlhT3e80eg-37">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="621" y="2104" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-47" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="252" y="2087.5" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-52" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.2;entryY=0.4;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="142" y="2246.5" as="sourcePoint" />
            <mxPoint x="700" y="2246" as="targetPoint" />
            <Array as="points">
              <mxPoint x="421" y="2246" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-53" value="token即将过期，请求刷新token" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-52">
          <mxGeometry x="-0.0725" y="3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-51">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="146" y="2278" as="targetPoint" />
            <Array as="points">
              <mxPoint x="528" y="2278" />
              <mxPoint x="528" y="2278" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-57" value="下发新的token信息" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-56">
          <mxGeometry x="0.1091" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-58" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="351.5" y="1222" width="131.5" height="80" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-59" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="61.5" y="1430" width="130" height="84" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-60" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#FFFFFF;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="658.5" y="1430" width="130" height="84" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-61" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" target="JHoGeUMgcDAlhT3e80eg-72">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="450.5" y="1269" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-62" value="4、审核通过&lt;br&gt;发放token" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-61">
          <mxGeometry x="0.0272" relative="1" as="geometry">
            <mxPoint x="-23" y="4" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-63" value="auth center" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="340" y="1208" width="136.5" height="87" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-69" value="2、登录管控台&lt;br&gt;领取身份证" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=1;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-72" target="JHoGeUMgcDAlhT3e80eg-63">
          <mxGeometry x="-0.4016" y="-17" relative="1" as="geometry">
            <mxPoint x="461" y="1212" as="targetPoint" />
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-70" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.992;entryY=0.133;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" target="JHoGeUMgcDAlhT3e80eg-80">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="649.5" y="1430" as="sourcePoint" />
            <mxPoint x="203.5" y="1427" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-71" value="5、携带token访问服务" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-70">
          <mxGeometry x="0.14" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-86" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1.023;entryY=0.338;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;exitX=0.5;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="703.5" y="1418" as="sourcePoint" />
            <mxPoint x="473.0245" y="1249.04" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-87" value="3、apply资源&lt;br&gt;等待审核" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-86">
          <mxGeometry x="0.0905" y="1" relative="1" as="geometry">
            <mxPoint x="72" y="50" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-72" value="consumer" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#a20025;strokeColor=#6F0000;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="651.5" y="1418" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-73" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0;entryDx=0;entryDy=0;exitX=0;exitY=0;exitDx=0;exitDy=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-80" target="JHoGeUMgcDAlhT3e80eg-63">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="283.5" y="1214" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-74" value="1、登录管控台、&lt;br&gt;register资源权限" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-73">
          <mxGeometry x="-0.053" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-75" value="6、同步权限" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0;exitDx=0;exitDy=0;entryX=-0.022;entryY=0.931;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-80" target="JHoGeUMgcDAlhT3e80eg-63">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-76" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.667;exitDx=0;exitDy=0;exitPerimeter=0;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-80">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="203.5" y="1478.5" as="sourcePoint" />
            <mxPoint x="648.5" y="1479" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-77" value="8、返回响应" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-76">
          <mxGeometry x="-0.215" y="3" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-78" value="" style="endArrow=none;dashed=1;html=1;strokeWidth=2;edgeStyle=orthogonalEdgeStyle;curved=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="185.5" y="1495" as="sourcePoint" />
            <mxPoint x="185.5" y="1445" as="targetPoint" />
            <Array as="points">
              <mxPoint x="235.5" y="1495" />
              <mxPoint x="235.5" y="1445" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-79" value="7、鉴权操作" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-78">
          <mxGeometry x="0.1333" y="4" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-80" value="provider" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="67.5" y="1418" width="130" height="90" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-98" value="在管控台选择资源，配置参数，申请，等待审核" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="142" y="1968" as="sourcePoint" />
            <mxPoint x="700" y="1968" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-99" value="审核通过后企微通知" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="702" y="2006" as="sourcePoint" />
            <mxPoint x="145" y="2006" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-101" value="存放身份证" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="36" y="1867" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-102" value="申请资源权限" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="36" y="1966" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-103" value="调用资源前先获取token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="36" y="2098" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-104" value="周期性同步token" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="36" y="2243" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-116" value="auth center" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="649" y="3540" width="116" height="385" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-118" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-116">
          <mxGeometry x="53" y="277" width="10" height="68" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-119" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-116">
          <mxGeometry x="53" y="159" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-120" value="provider" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="83" y="3540" width="106" height="393" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-121" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-120">
          <mxGeometry x="48.62" y="52" width="10" height="72" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-123" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-120">
          <mxGeometry x="47" y="277" width="11" height="65" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-124" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-120">
          <mxGeometry x="49" y="158" width="10" height="80" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-125" value="登录管控台&lt;br&gt;注册资源" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-120">
          <mxGeometry x="-47" y="64" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-128" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="702" y="3592" width="10" height="61" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="141.6199999999999" y="3628" as="sourcePoint" />
            <mxPoint x="702" y="3628" as="targetPoint" />
            <Array as="points">
              <mxPoint x="616" y="3628" />
              <mxPoint x="616" y="3628" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-130" value="owner使用工号登陆管控台注册资源" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-129">
          <mxGeometry x="-0.4318" y="1" relative="1" as="geometry">
            <mxPoint x="97" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-141" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=-0.2;entryY=0.4;entryDx=0;entryDy=0;entryPerimeter=0;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="142" y="3834.5" as="sourcePoint" />
            <mxPoint x="700" y="3834" as="targetPoint" />
            <Array as="points">
              <mxPoint x="421" y="3834" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-142" value="密钥即将过期，请求最新密钥" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-141">
          <mxGeometry x="-0.0725" y="3" relative="1" as="geometry">
            <mxPoint y="1" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-143" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-118">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="146" y="3866" as="targetPoint" />
            <Array as="points">
              <mxPoint x="528" y="3866" />
              <mxPoint x="528" y="3866" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-144" value="下发新的密钥，保存至本地" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-143">
          <mxGeometry x="0.1091" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-145" value="传递（application+serviceName）请求同步密钥列表&lt;br&gt;（针对的是单个provider）" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="142" y="3719" as="sourcePoint" />
            <mxPoint x="700" y="3719" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-146" value="返回响应密钥列表" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="702" y="3757" as="sourcePoint" />
            <mxPoint x="145" y="3757" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-148" value="启动时" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="36" y="3717" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-150" value="周期性同步密钥" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="36" y="3831" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-154" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontColor=#000000;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-151" target="JHoGeUMgcDAlhT3e80eg-152">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-151" value="consumer" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="306" y="2364" width="119" height="50" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-155" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-152">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="366" y="2585" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-163" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-155">
          <mxGeometry x="-0.1023" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-162" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;fontColor=#000000;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-152">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="423" y="2758" as="targetPoint" />
            <Array as="points">
              <mxPoint x="478" y="2496" />
              <mxPoint x="478" y="2758" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-164" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-162">
          <mxGeometry x="-0.7703" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-152" value="有无注册身份" style="rhombus;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="325.5" y="2456" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-160" style="edgeStyle=none;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontColor=#000000;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-157">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="367" y="2731" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-167" value="Y" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-160">
          <mxGeometry x="-0.1351" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-169" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.5;entryDx=0;entryDy=0;fontColor=#000000;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-157" target="JHoGeUMgcDAlhT3e80eg-168">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-171" value="N" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-169">
          <mxGeometry x="-0.0207" y="-2" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-157" value="验证身份&lt;br&gt;&amp;amp;&lt;br&gt;获取token" style="rhombus;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="320.5" y="2584" width="90" height="88" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-168" value="" style="ellipse;html=1;shape=endState;fillColor=#000000;strokeColor=#ff0000;fontColor=#000000;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="218" y="2613" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-170" value="访问资源" style="rounded=0;whiteSpace=wrap;html=1;fontColor=#000000;strokeColor=#000000;fillColor=#FFFFFF;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="316" y="2734" width="106" height="46" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-172" value="provider" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#0050ef;strokeColor=#001DBC;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="656.75" y="4032" width="116" height="385" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-175" value="consumer" style="shape=umlLifeline;perimeter=lifelinePerimeter;whiteSpace=wrap;html=1;container=1;collapsible=0;recursiveResize=0;outlineConnect=0;fillColor=#a20025;strokeColor=#6F0000;fontColor=#ffffff;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="90.75" y="4032" width="106" height="393" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-176" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-175">
          <mxGeometry x="48.62" y="52" width="10" height="72" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-179" value="请求资源" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" vertex="1" parent="JHoGeUMgcDAlhT3e80eg-175">
          <mxGeometry x="-47" y="64" width="91" height="36" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-191" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.863;entryY=0.667;entryDx=0;entryDy=0;entryPerimeter=0;fontColor=#000000;startArrow=none;startFill=0;endSize=6;strokeColor=#000000;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="JHoGeUMgcDAlhT3e80eg-180" target="JHoGeUMgcDAlhT3e80eg-176">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="588" y="4132" />
              <mxPoint x="588" y="4132" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-192" value="响应请求" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#000000;" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-191">
          <mxGeometry x="-0.0218" y="-1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-180" value="" style="html=1;points=[];perimeter=orthogonalPerimeter;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="709.75" y="4084" width="10" height="61" as="geometry" />
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-181" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="149.3699999999999" y="4100" as="sourcePoint" />
            <mxPoint x="709.75" y="4100" as="targetPoint" />
            <Array as="points">
              <mxPoint x="623.75" y="4100" />
              <mxPoint x="623.75" y="4100" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="JHoGeUMgcDAlhT3e80eg-182" value="携带token和token_created参数请求资源" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" vertex="1" connectable="0" parent="JHoGeUMgcDAlhT3e80eg-181">
          <mxGeometry x="-0.4318" y="1" relative="1" as="geometry">
            <mxPoint x="97" y="-1" as="offset" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
